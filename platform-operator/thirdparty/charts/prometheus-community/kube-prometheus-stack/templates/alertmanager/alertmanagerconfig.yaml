{{- if .Values.alertmanager.enabled }}
apiVersion: monitoring.coreos.com/v1alpha1
kind: AlertmanagerConfig
metadata:
  name: alertmanager-config
  namespace: verrazzano-monitoring
  labels:
    verrazzano.io/alerts: true
    app: {{ template "kube-prometheus-stack.name" . }}-alertmanager
{{ include "kube-prometheus-stack.labels" . | indent 4 }}
{{- if .Values.alertmanager.annotations }}
  annotations:
{{ toYaml .Values.alertmanager.annotations | indent 4 }}
{{- end }}
spec:
  receivers:
    - name: null-alertmanager-config-receiver
  route:
    groupBy: []
    groupInterval: 5m
    groupWait: 30s
    matchers: []
    receiver: null-alertmanager-config-receiver
    repeatInterval: 4h
{{- end }}

# Maps to Verrazzano role which has access to push logs to verrazzano specific indices
apiVersion: opensearch.opster.io/v1
kind: OpensearchUserRoleBinding
metadata:
  name: vz-log-pusher-rb
  namespace: {{ .Release.Namespace }}
spec:
  opensearchCluster:
    name: {{ .Values.OpenSearchClusterSpec.name }}
  backendRoles:
    - vz_log_pusher
  roles:
    - vz-log-pusher

---
# Maps vz_opensearch_admin to all_access
apiVersion: opensearch.opster.io/v1
kind: OpensearchUserRoleBinding
metadata:
  name: vz-opensearch-admin-rb
  namespace: {{ .Release.Namespace }}
spec:
  opensearchCluster:
    name: {{ .Values.OpenSearchClusterSpec.name }}
  backendRoles:
    - vz_opensearch_admin
  roles:
    - all_access